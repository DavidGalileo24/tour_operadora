<?php defined('BASEPATH') OR exit ('No direct script access allowed');

class usuario_model extends CI_Model{
//----------------------------------------------------------------------------------------------------------------------------------------------//
	public function get_usuario(){
		$k = "CALL usuario_empleado()";
		$exe = $this->db->query($k);
		return $exe->result();
	}
//----------------------------------------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------------------------------------------------------------------------------------------//
	public function delete($id){
		$k = "CALL delete_usuario_sp(?)";
		$f = array('id_empleado' => $id);
		$this->db->query($k, $f); 
        if ($this->db->affected_rows() > 0) { 
            return true;
        }else{
        	return false;
        }
	}
//----------------------------------------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------------------------------------------------------------------------------------------//
	public function get_empleado(){
		$k = "CALL selectusuario_e_sp()";
		$exe = $this->db->query($k);
		return $exe->result();
	}
//----------------------------------------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------------------------------------------------------------------------------------------//
	public function get_rol(){
		$exe = $this->db->get('rol');
		return $exe->result();
	}
//----------------------------------------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------------------------------------------------------------------------------------------//
	public function set_datos($datos){
		$k = "CALL 	set_usuario_sp(?,?,?,?)";
		$f = array('id_empleado' => $datos['empleado'],'usuario' => $datos['usuario'],'clave' => $datos['clave'],'id_rol' => $datos['rol']);
		$this->db->query($k, $f); 
        if ($this->db->affected_rows() > 0) { 
            return "add";
        }else{
        	return false;
        }
	}
//----------------------------------------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------------------------------------------------------------------------------------------//
//----------------------------------------------------------------------------------------------------------------------------------------------//

}